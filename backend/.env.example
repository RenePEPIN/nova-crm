# ===================================================================
# üöÄ NovaCRM + AI Compliance Hub - Configuration Backend
# ===================================================================
# 
# Ce fichier contient toutes les variables d'environnement n√©cessaires
# pour le fonctionnement du backend FastAPI.
#
# üìã Instructions :
# 1. Copier ce fichier : cp .env.example .env
# 2. Modifier les valeurs selon votre environnement
# 3. Ne JAMAIS committer le fichier .env dans Git
#
# Derni√®re mise √† jour : 2026-02-01
# ===================================================================

# ===================================================================
# üêç ENVIRONNEMENT PYTHON
# ===================================================================
PYTHON_VERSION=3.12.7
PYTHONPATH=/home/renep/dev/nova-crm/backend

# ===================================================================
# üåç ENVIRONNEMENT APPLICATION
# ===================================================================
# Environnement : development, staging, production
ENVIRONMENT=development
DEBUG=true

# ===================================================================
# üñ•Ô∏è SERVEUR & R√âSEAU
# ===================================================================
HOST=0.0.0.0
PORT=8000
RELOAD=true
WORKERS=1

# ===================================================================
# üìä BASE DE DONN√âES
# ===================================================================
# SQLite pour d√©veloppement
DATABASE_URL=sqlite:///./nova_crm.db

# PostgreSQL pour production (d√©commenter et ajuster)
# DATABASE_URL=postgresql://novacrm_user:changeme@localhost:5432/nova_crm
# DATABASE_POOL_SIZE=5
# DATABASE_MAX_OVERFLOW=10
# DATABASE_ECHO=false

# ===================================================================
# üîê S√âCURIT√â & AUTHENTIFICATION
# ===================================================================
# Secret key pour JWT (CHANGER EN PRODUCTION !)
# G√©n√©rer avec : python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=dev-secret-key-change-me-in-production-use-secrets-manager
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# ===================================================================
# üåê CORS (Cross-Origin Resource Sharing)
# ===================================================================
# Origines autoris√©es pour le frontend
CORS_ORIGINS=["http://localhost:3000","http://localhost:8000","http://127.0.0.1:3000"]
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=["*"]
CORS_ALLOW_HEADERS=["*"]

# ===================================================================
# ü§ñ AI COMPLIANCE ENGINE
# ===================================================================
AI_ENGINE_URL=http://localhost:8001
AI_ENGINE_PATH=../ai
AI_ENGINE_TIMEOUT=30
ENABLE_AI_ENGINE=true

# D√©tection PII (Personally Identifiable Information)
ENABLE_PII_DETECTION=true
PII_MASK_CHAR=*
PII_DETECTION_PATTERNS=["email","phone","ssn","credit_card","iban"]

# D√©tection de secrets
ENABLE_SECRET_DETECTION=true
SECRET_DETECTION_PATTERNS=["api_key","token","password","secret"]

# Audit trail
ENABLE_AUDIT_TRAIL=true
AUDIT_LOG_PATH=./logs/audit
AUDIT_RETENTION_DAYS=90

# ===================================================================
# ‚öñÔ∏è CONFORMIT√â & R√âGLEMENTATION
# ===================================================================
# RGPD (General Data Protection Regulation)
GDPR_ENABLED=true
GDPR_DATA_RETENTION_DAYS=365
GDPR_RIGHT_TO_ERASURE=true

# IA Act (European AI Act)
IA_ACT_ENABLED=true
IA_ACT_RISK_LEVEL=limited
# Niveaux : unacceptable, high, limited, minimal

# Conformit√© ISO 27001
ISO27001_ENABLED=false

# ===================================================================
# üìù LOGGING
# ===================================================================
LOG_LEVEL=INFO
# Niveaux : DEBUG, INFO, WARNING, ERROR, CRITICAL

LOG_FORMAT=json
# Formats : json, text

LOG_PATH=./logs
LOG_FILE_MAX_BYTES=10485760
# 10MB par fichier

LOG_FILE_BACKUP_COUNT=5
LOG_TO_CONSOLE=true
LOG_TO_FILE=true

# ===================================================================
# üìß EMAIL (FUTUR)
# ===================================================================
# SMTP Configuration
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=noreply@novacrm.com
# SMTP_PASSWORD=changeme
# SMTP_FROM_EMAIL=noreply@novacrm.com
# SMTP_FROM_NAME=NovaCRM

# ===================================================================
# üîî NOTIFICATIONS (FUTUR)
# ===================================================================
# ENABLE_NOTIFICATIONS=true
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/xxx
# TEAMS_WEBHOOK_URL=https://outlook.office.com/webhook/xxx

# ===================================================================
# üìä MONITORING & OBSERVABILIT√â (FUTUR)
# ===================================================================
# Sentry (Error tracking)
# SENTRY_DSN=https://xxx@sentry.io/xxx
# SENTRY_ENVIRONMENT=development

# OpenTelemetry
# OTEL_ENABLED=false
# OTEL_ENDPOINT=http://localhost:4318

# Prometheus
# PROMETHEUS_ENABLED=false
# PROMETHEUS_PORT=9090

# ===================================================================
# üß™ TESTING
# ===================================================================
TEST_DATABASE_URL=sqlite:///./test_nova_crm.db
TEST_LOG_LEVEL=WARNING

# ===================================================================
# üöÄ PERFORMANCE
# ===================================================================
ENABLE_CACHE=false
# REDIS_URL=redis://localhost:6379/0
# CACHE_TTL=300

# Rate Limiting
ENABLE_RATE_LIMITING=false
# RATE_LIMIT_PER_MINUTE=60

# ===================================================================
# üîß D√âVELOPPEMENT
# ===================================================================
ENABLE_SWAGGER=true
ENABLE_REDOC=true
ENABLE_OPENAPI=true
API_DOCS_URL=/docs
API_REDOC_URL=/redoc
API_OPENAPI_URL=/openapi.json

# ===================================================================
# üìö METADATA
# ===================================================================
APP_NAME=NovaCRM
APP_VERSION=0.1.0
APP_DESCRIPTION=CRM moderne avec moteur IA de conformit√©
API_PREFIX=/api/v1
CONTACT_EMAIL=admin@novacrm.local
